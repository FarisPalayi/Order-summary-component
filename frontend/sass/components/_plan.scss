@use "abstracts/colors" as *;
@use "abstracts/functions" as *;
@use "abstracts/mixins" as *;

$plan-gap: 20px;
$plan-icon-width: 48px;
$plan-change-btn-width: 53px;

.plan {
  --plan-gap: #{$plan-gap};
  --plan-icon-width: #{$plan-icon-width};
  --plan-change-btn-width: #{$plan-change-btn-width};

  display: flex;
  align-items: center;
  flex-wrap: wrap;
  @include flex-gap($plan-gap); // fallback
  @include flex-gap(var(--plan-gap));
  @include clamp(margin-bottom, 24px, 6.3944vw, 33px);

  width: 100%;
  @include clamp(padding, 16px, 4.26288vw, 24px);

  background-color: $very-pale-blue;
  border-radius: 13px;

  > * {
    float: left; // for IE
  }
}

.plan__icon {
  @include variable(width, --plan-icon-width, $plan-icon-width);
  height: 49px;

  border-radius: 50%;
  background-image: url("../images/icon-music.svg");
  background-repeat: no-repeat;
  background-position: center;
}

.plan__details {
  // prettier-ignore
  --plan-details-width: calc(
    100% - var(--plan-icon-width) - var(--plan-change-btn-width) - (var(--plan-gap) * 2)
  );

  @include variable(width, --plan-details-width, 165px);
  min-width: fit-content;
  text-align: left;
}

.plan__title,
.plan__amount {
  @include clamp(font-size, toRem(14), 3.4636vw, toRem(16));
}

.plan__title {
  @include clamp(margin-bottom, 0px, 0.3472vw, 5px);
  font-weight: 900;
}

.plan__amount {
  color: $desaturated-blue;
}

.plan__change {
  position: relative;
}

.plan__change-btn {
  @include variable(width, --plan-change-btn-width, $plan-change-btn-width);
  @include clamp(font-size, toRem(12), 3.4636vw, toRem(14.08));
  font-weight: 900;
  color: $bright-blue;
  text-decoration: underline;

  &:hover {
    color: lighten($bright-blue, 10);
  }
}

// plan dropdown

.plan__dropdown-overlay {
  display: none; //js
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: transparent;
  z-index: 1;
}

.plan__list {
  position: absolute;
  margin-top: 2px;
  left: 50%;
  transform: translatex(-50%);
  background-color: #d2e0fb;
  list-style: none;
  border-radius: 5px;
  color: $desaturated-blue;
  z-index: 1;
  overflow: hidden;
  font-size: toRem(14);
}

.plan__item {
  min-width: max-content;
}

.plan__radio {
  position: absolute;
  opacity: 0;

  &:focus + .plan__name {
    background-color: #b7d0ff;
  }

  &:checked + .plan__name {
    background-color: #8ab3ff;
    color: white;
  }
}

.plan__name {
  display: inline-block;
  width: 100%;
  padding: 6px 27px;
}
